2025-02-27 10:34:33,721 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 10:34:33,724 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 10:34:33,724 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 10:34:33,980 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 10:34:33,981 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 10:34:34,038 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 10:34:34,038 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 10:34:34,039 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 10:34:34,039 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 10:34:34,039 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 10:34:34,040 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 10:34:34,040 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 10:34:34,040 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 10:34:34,040 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 10:34:34,041 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 10:34:34,041 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 10:34:36,797 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:34:47,797 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:34:58,796 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:35:09,790 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:35:20,801 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:35:31,799 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:35:42,804 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:35:53,800 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:36:04,794 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:36:15,804 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:36:26,794 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 10:36:35,338 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 10:36:35,341 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 10:36:35,341 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 10:36:35,595 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 10:36:35,596 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 10:36:49,846 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 10:36:49,851 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 10:36:49,851 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 10:36:50,070 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 10:36:50,070 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 10:38:04,926 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 10:38:04,930 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 10:38:04,930 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 10:38:05,170 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 10:38:05,171 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:15:53,252 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:15:53,254 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:15:53,255 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:15:53,502 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:15:53,503 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:17:27,283 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:17:27,286 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:17:27,287 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:17:27,535 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:17:27,536 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:17:47,983 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:17:47,986 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:17:47,987 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:17:48,229 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:17:48,230 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:19:47,976 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:19:47,979 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:19:47,980 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:19:48,224 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:19:48,225 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:20:49,958 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:20:49,964 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:20:49,965 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:20:50,326 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:20:50,327 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:22:40,373 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:22:40,377 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:22:40,377 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:22:40,640 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:22:40,641 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:33:14,901 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:33:14,904 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:33:14,904 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:33:15,167 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:33:15,168 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:33:22,855 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:33:22,858 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:33:22,858 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:33:23,122 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:33:23,123 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:34:54,787 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:34:54,790 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:34:54,791 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:34:55,060 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:34:55,061 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:34:55,154 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 11:34:55,154 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 11:34:55,155 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 11:34:55,155 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 11:34:55,156 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 11:34:55,156 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 11:34:55,156 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 11:34:55,157 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 11:34:55,157 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 11:34:55,157 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 11:34:55,158 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 11:34:56,191 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:34:56,194 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:34:56,195 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:34:56,448 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:34:56,449 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:34:56,507 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 11:34:56,508 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 11:34:56,508 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 11:34:56,509 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 11:34:56,509 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 11:34:56,510 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 11:34:56,510 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 11:34:56,510 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 11:34:56,511 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 11:34:56,511 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 11:34:56,511 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 11:35:08,938 - ApplicationLogger - INFO - Received chat message request
2025-02-27 11:35:08,938 - ApplicationLogger - INFO - Processing message: אני רוצה לשדרג שרת
2025-02-27 11:35:08,938 - ApplicationLogger - INFO - Chat history length: 5
2025-02-27 11:35:08,939 - ApplicationLogger - INFO - Handling message: אני רוצה לשדרג שרת
2025-02-27 11:35:08,939 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:09,858 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-b29e8157-929c-4011-b74d-1066035f2428","object":"chat.completion","created":1740648909,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {}\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23435736299999999,"prompt_tokens":1431,"prompt_time":0.053144293,"completion_tokens":31,"completion_time":0.112727273,"total_tokens":1462,"total_time":0.165871566},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3c52t6e9htr8sbh4xq3q9x"}}

2025-02-27 11:35:09,858 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.8, 'extracted_params': {}}
2025-02-27 11:35:09,859 - ApplicationLogger - INFO - Handling as action
2025-02-27 11:35:09,859 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 11:35:09,860 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 11:35:09,860 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:11,137 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-b834d75d-5a4e-4804-9d6a-df5b0f0af2fe","object":"chat.completion","created":1740648910,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"endpoint\": \"/api/automations/search_server\",\n  \"parameters\": {\n    \"search_term\": \"\",\n    \"search_type\": \"\"\n  },\n  \"response\": \"To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\",\n  \"thinking_process\": \"I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.\",\n  \"action_steps\": [\n    \"Searching for server\",\n    \"Retrieving server details\",\n    \"Checking server status\",\n    \"Preparing upgrade process\",\n    \"Starting upgrade process\"\n  ],\n  \"requires_more_info\": true,\n  \"missing_params\": [\n    \"search_term\",\n    \"search_type\"\n  ]\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.234392647,"prompt_tokens":1410,"prompt_time":0.055118918,"completion_tokens":179,"completion_time":0.650909091,"total_tokens":1589,"total_time":0.706028009},"system_fingerprint":"fp_2ca0059abb","x_groq":{"id":"req_01jn3c53gve9jb46r71wfxvf90"}}

2025-02-27 11:35:11,138 - ApplicationLogger - INFO - LLM response received: ```json
{
  "endpoint": "/api/automations/search_server",
  "parameters": {
    "search_term": "",
    "search_type": ""
  },
  "response": "To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?",
  "thinking_process": "I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.",
  "action_steps": [
    "Searching for server",
    "Retrieving server details",
    "Checking server status",
    "Preparing upgrade process",
    "Starting upgrade process"
  ],
  "requires_more_info": true,
  "missing_params": [
    "search_term",
    "search_type"
  ]
}
```
2025-02-27 11:35:11,139 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'upgrade_server', 'response': "To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?", 'thinking_process': "I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.", 'action_steps': ['Searching for server', 'Retrieving server details', 'Checking server status', 'Preparing upgrade process', 'Starting upgrade process'], 'requires_input': True, 'missing_params': ['search_term', 'search_type']}
2025-02-27 11:35:27,011 - ApplicationLogger - INFO - Received chat message request
2025-02-27 11:35:27,012 - ApplicationLogger - INFO - Processing message: server1
2025-02-27 11:35:27,012 - ApplicationLogger - INFO - Chat history length: 8
2025-02-27 11:35:27,012 - ApplicationLogger - INFO - Handling message: server1
2025-02-27 11:35:27,013 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:27,516 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-3cc32735-871c-4cbd-a4b3-383ca767fc1b","object":"chat.completion","created":1740648927,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.9,\n  \"extracted_params\": {\n    \"server_name\": \"server1\"\n  }\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.004077304000000004,"prompt_tokens":1905,"prompt_time":0.078263664,"completion_tokens":42,"completion_time":0.152727273,"total_tokens":1947,"total_time":0.230990937},"system_fingerprint":"fp_e669a124b2","x_groq":{"id":"req_01jn3c5m83f48b1kam2yy9vsjf"}}

2025-02-27 11:35:27,516 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.9, 'extracted_params': {'server_name': 'server1'}}
2025-02-27 11:35:27,517 - ApplicationLogger - INFO - Handling as action
2025-02-27 11:35:27,517 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 11:35:27,518 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 11:35:27,518 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {\"server_name\": \"server1\"}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:29,235 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-45f30214-13c5-4d31-b968-7c49c31408ed","object":"chat.completion","created":1740648928,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"Here's the response:\n\n```json\n{\n  \"endpoint\": \"/api/automations/search_server\",\n  \"parameters\": {\n    \"search_term\": \"server1\",\n    \"search_type\": \"name\"\n  },\n  \"response\": \"I will now search for the server 'server1' to get its details and proceed with the upgrade process.\",\n  \"thinking_process\": \"I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.\",\n  \"action_steps\": [\n    \"Searching for server\",\n    \"Retrieving server details\",\n    \"Checking server status\",\n    \"Preparing upgrade process\",\n    \"Starting upgrade process\"\n  ],\n  \"requires_more_info\": false,\n  \"missing_params\": []\n}\n```\n\nThis response indicates that the next step is to search for the server 'server1' using the `/api/automations/search_server` endpoint, with the `search_term` as 'server1' and `search_type` as 'name'. The natural language response explains this to the user. The thinking process provides more detail about the reasoning behind this action. The action steps list the overall process, and since we have all the required information, `requires_more_info` is false and `missing_params` is an empty list."},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23357328500000002,"prompt_tokens":1891,"prompt_time":0.072847057,"completion_tokens":272,"completion_time":0.989090909,"total_tokens":2163,"total_time":1.061937966},"system_fingerprint":"fp_5f849c5a0b","x_groq":{"id":"req_01jn3c5mrwfxvbkdnymnjeqsjr"}}

2025-02-27 11:35:29,236 - ApplicationLogger - INFO - LLM response received: Here's the response:

```json
{
  "endpoint": "/api/automations/search_server",
  "parameters": {
    "search_term": "server1",
    "search_type": "name"
  },
  "response": "I will now search for the server 'server1' to get its details and proceed with the upgrade process.",
  "thinking_process": "I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.",
  "action_steps": [
    "Searching for server",
    "Retrieving server details",
    "Checking server status",
    "Preparing upgrade process",
    "Starting upgrade process"
  ],
  "requires_more_info": false,
  "missing_params": []
}
```

This response indicates that the next step is to search for the server 'server1' using the `/api/automations/search_server` endpoint, with the `search_term` as 'server1' and `search_type` as 'name'. The natural language response explains this to the user. The thinking process provides more detail about the reasoning behind this action. The action steps list the overall process, and since we have all the required information, `requires_more_info` is false and `missing_params` is an empty list.
2025-02-27 11:35:29,237 - ApplicationLogger - INFO - Calling API endpoint: http://localhost:5000/api/automations/search_server with parameters: {'search_term': 'server1', 'search_type': 'name'}
2025-02-27 11:35:29,504 - ApplicationLogger - INFO - Searching server with name=server1
2025-02-27 11:35:29,506 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'upgrade_server', 'response': "I will now search for the server 'server1' to get its details and proceed with the upgrade process.", 'thinking_process': "I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.", 'action_steps': ['Searching for server', 'Retrieving server details', 'Checking server status', 'Preparing upgrade process', 'Starting upgrade process'], 'result': {'data': {'dn': 'DN123456', 'domain': 'central.cisco.com', 'name': 'TLV', 'serial': 'SN123', 'usr_lbl': 'Server server1', 'version': '1.1.0'}, 'status': 'success'}}
2025-02-27 11:35:45,988 - ApplicationLogger - INFO - Received chat message request
2025-02-27 11:35:45,989 - ApplicationLogger - INFO - Processing message: מעולה
2025-02-27 11:35:45,989 - ApplicationLogger - INFO - Chat history length: 12
2025-02-27 11:35:45,989 - ApplicationLogger - INFO - Handling message: מעולה
2025-02-27 11:35:45,990 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: I will now search for the server 'server1' to get its details and proceed with the upgrade process.\nAssistant: <div class=\"server-result\"><div class=\"server-result-header\"><h3>Server server1</h3><span class=\"server-status success\">success</span></div><table class=\"server-details\"><tbody><tr><td>Name</td><td>TLV</td></tr><tr><td>DN</td><td>DN123456</td></tr><tr><td>Domain</td><td>central.cisco.com</td></tr><tr><td>Serial</td><td>SN123</td></tr><tr><td>Version</td><td>1.1.0</td></tr></tbody></table></div>\nUser: מעולה\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:46,484 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-a259d9bb-89cc-44e1-86ba-b5b6bcc5795a","object":"chat.completion","created":1740648946,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"chat\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {}\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.0037281579999999953,"prompt_tokens":2513,"prompt_time":0.108618904,"completion_tokens":30,"completion_time":0.109090909,"total_tokens":2543,"total_time":0.217709813},"system_fingerprint":"fp_e669a124b2","x_groq":{"id":"req_01jn3c66sgf48tf0vhg1fm4jcw"}}

2025-02-27 11:35:46,485 - ApplicationLogger - INFO - Detected intent: {'name': 'chat', 'confidence': 0.8, 'extracted_params': {}}
2025-02-27 11:35:46,485 - ApplicationLogger - INFO - Handling as regular chat
2025-02-27 11:35:46,486 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Previous conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: I will now search for the server 'server1' to get its details and proceed with the upgrade process.\nAssistant: <div class=\"server-result\"><div class=\"server-result-header\"><h3>Server server1</h3><span class=\"server-status success\">success</span></div><table class=\"server-details\"><tbody><tr><td>Name</td><td>TLV</td></tr><tr><td>DN</td><td>DN123456</td></tr><tr><td>Domain</td><td>central.cisco.com</td></tr><tr><td>Serial</td><td>SN123</td></tr><tr><td>Version</td><td>1.1.0</td></tr></tbody></table></div>\nUser: מעולה"
    },
    {
      "role": "user",
      "content": "מעולה"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:35:51,935 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-ce7628cc-9ff7-4139-a75f-1fb4c1702dc1","object":"chat.completion","created":1740648951,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"נראה שהתהליך הושלם בהצלחה! אם אתה צריך עזרה נוספת או שירות אחר, אנא אל תהסס לפנות אליי. אני כאן כדי לעזור לך.\n\nאם אתה מרוצה מהתוצאות, אני אשמח לקבל פידבק ממך. האם יש משהו שאני יכול לשפר או לשנות כדי להפוך את החוויה לטובה יותר עבורך?"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23449301499999997,"prompt_tokens":1674,"prompt_time":0.067611988,"completion_tokens":220,"completion_time":0.8,"total_tokens":1894,"total_time":0.867611988},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3c6b6mfy69j94ny3epq09s"}}

2025-02-27 11:35:51,935 - ApplicationLogger - INFO - Chat manager result: {'type': 'chat', 'response': 'נראה שהתהליך הושלם בהצלחה! אם אתה צריך עזרה נוספת או שירות אחר, אנא אל תהסס לפנות אליי. אני כאן כדי לעזור לך.\n\nאם אתה מרוצה מהתוצאות, אני אשמח לקבל פידבק ממך. האם יש משהו שאני יכול לשפר או לשנות כדי להפוך את החוויה לטובה יותר עבורך?'}
2025-02-27 11:36:00,542 - ApplicationLogger - INFO - Received chat message request
2025-02-27 11:36:00,543 - ApplicationLogger - INFO - Processing message: אבל לא שדרגת
2025-02-27 11:36:00,543 - ApplicationLogger - INFO - Chat history length: 14
2025-02-27 11:36:00,544 - ApplicationLogger - INFO - Handling message: אבל לא שדרגת
2025-02-27 11:36:00,544 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: I will now search for the server 'server1' to get its details and proceed with the upgrade process.\nAssistant: <div class=\"server-result\"><div class=\"server-result-header\"><h3>Server server1</h3><span class=\"server-status success\">success</span></div><table class=\"server-details\"><tbody><tr><td>Name</td><td>TLV</td></tr><tr><td>DN</td><td>DN123456</td></tr><tr><td>Domain</td><td>central.cisco.com</td></tr><tr><td>Serial</td><td>SN123</td></tr><tr><td>Version</td><td>1.1.0</td></tr></tbody></table></div>\nUser: מעולה\nAssistant: נראה שהתהליך הושלם בהצלחה! אם אתה צריך עזרה נוספת או שירות אחר, אנא אל תהסס לפנות אליי. אני כאן כדי לעזור לך.\n\nאם אתה מרוצה מהתוצאות, אני אשמח לקבל פידבק ממך. האם יש משהו שאני יכול לשפר או לשנות כדי להפוך את החוויה לטובה יותר עבורך?\nUser: אבל לא שדרגת\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:36:01,418 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-9d3aed3a-7f3b-4872-b74a-a1187e4baade","object":"chat.completion","created":1740648961,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {\n    \"server_name\": \"server1\"\n  }\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.234803501,"prompt_tokens":2749,"prompt_time":0.121812809,"completion_tokens":42,"completion_time":0.152727273,"total_tokens":2791,"total_time":0.274540082},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3c6n0sfq7refd0k1py28av"}}

2025-02-27 11:36:01,419 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.8, 'extracted_params': {'server_name': 'server1'}}
2025-02-27 11:36:01,419 - ApplicationLogger - INFO - Handling as action
2025-02-27 11:36:01,419 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 11:36:01,420 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 11:36:01,420 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>The user wants to upgrade their server, but I don't have enough information to proceed. I need to search for the server by name or ID to get its details. However, I don't have the search term or type, so I need to ask the user for this information.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by name or ID to get its details, but I don't have enough information to proceed. I need to ask the user for the server's name or ID.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I need to know the server's name or ID. Could you please provide me with this information?\nUser: server1\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server 'server1' to get its details. I will use the search_server endpoint to find the server by its name.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: I will now search for the server 'server1' to get its details and proceed with the upgrade process.\nAssistant: <div class=\"server-result\"><div class=\"server-result-header\"><h3>Server server1</h3><span class=\"server-status success\">success</span></div><table class=\"server-details\"><tbody><tr><td>Name</td><td>TLV</td></tr><tr><td>DN</td><td>DN123456</td></tr><tr><td>Domain</td><td>central.cisco.com</td></tr><tr><td>Serial</td><td>SN123</td></tr><tr><td>Version</td><td>1.1.0</td></tr></tbody></table></div>\nUser: מעולה\nAssistant: נראה שהתהליך הושלם בהצלחה! אם אתה צריך עזרה נוספת או שירות אחר, אנא אל תהסס לפנות אליי. אני כאן כדי לעזור לך.\n\nאם אתה מרוצה מהתוצאות, אני אשמח לקבל פידבק ממך. האם יש משהו שאני יכול לשפר או לשנות כדי להפוך את החוויה לטובה יותר עבורך?\nUser: אבל לא שדרגת\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {\"server_name\": \"server1\"}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 11:36:01,755 - ApplicationLogger - DEBUG - Received response from Groq API: {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jmw9p4ypfr39z0dk8q5h91jt` service tier `on_demand` on tokens per minute (TPM): Limit 6000, Used 4711, Requested 3079. Please try again in 17.893s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-02-27 11:36:01,755 - ApplicationLogger - ERROR - API error: 429 - {"error":{"message":"Rate limit reached for model `llama-3.3-70b-versatile` in organization `org_01jmw9p4ypfr39z0dk8q5h91jt` service tier `on_demand` on tokens per minute (TPM): Limit 6000, Used 4711, Requested 3079. Please try again in 17.893s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing","type":"tokens","code":"rate_limit_exceeded"}}

2025-02-27 11:36:01,756 - ApplicationLogger - ERROR - Error generating response: API returned status 429
2025-02-27 11:36:01,757 - ApplicationLogger - ERROR - Error handling message: Error generating response: API returned status 429
Traceback (most recent call last):
  File "C:\project_test\app\omegaApp\llm_client.py", line 54, in generate_response
    raise Exception(f"API returned status {response.status}")
Exception: API returned status 429

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\project_test\app\omegaApp\routes\chat.py", line 26, in handle_message
    result = await chat_manager.handle_message(message, chat_history)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\project_test\app\omegaApp\chat_manager.py", line 134, in handle_message
    return await self._handle_action(intent, message, chat_history)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\project_test\app\omegaApp\chat_manager.py", line 188, in _handle_action
    response = await current_app.llm_client.generate_response([
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        {"role": "system", "content": prompt}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ])
    ^^
  File "C:\project_test\app\omegaApp\llm_client.py", line 66, in generate_response
    raise Exception(f"Error generating response: {str(e)}")
Exception: Error generating response: API returned status 429
2025-02-27 11:44:07,525 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 11:44:07,528 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 11:44:07,529 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 11:44:07,816 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 11:44:07,817 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 11:44:07,897 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 11:44:07,897 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 11:44:07,898 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 11:44:07,899 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 11:44:07,899 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 11:44:07,899 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 11:44:07,900 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 11:44:07,900 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 11:44:07,900 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 11:44:07,901 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 11:44:07,901 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 11:48:12,837 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 11:48:22,964 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 11:48:32,981 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 11:48:43,957 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 14:33:18,498 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 14:33:18,501 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 14:33:18,502 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 14:33:18,936 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 14:33:18,937 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 14:33:19,041 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 14:33:19,041 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 14:33:19,042 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 14:33:19,042 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 14:33:19,043 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 14:33:19,044 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 14:33:19,044 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 14:33:19,044 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 14:33:19,044 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 14:33:19,045 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 14:33:19,045 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 14:33:20,133 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 14:33:20,136 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 14:33:20,137 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 14:33:20,413 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 14:33:20,415 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 14:33:20,499 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 14:33:20,499 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 14:33:20,500 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 14:33:20,500 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 14:33:20,501 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 14:33:20,501 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 14:33:20,501 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 14:33:20,502 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 14:33:20,502 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 14:33:20,502 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 14:33:20,502 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 14:33:20,548 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 14:33:34,235 - ApplicationLogger - INFO - Received chat message request
2025-02-27 14:33:34,236 - ApplicationLogger - INFO - Processing message: אני רוצה לשדרג שרת
2025-02-27 14:33:34,237 - ApplicationLogger - INFO - Chat history length: 2
2025-02-27 14:33:34,237 - ApplicationLogger - INFO - Handling message: אני רוצה לשדרג שרת
2025-02-27 14:33:34,238 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:33:34,775 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-add8a69c-c164-4888-9a32-02a933ec2d0e","object":"chat.completion","created":1740659614,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {}\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.003238369000000005,"prompt_tokens":925,"prompt_time":0.035595576,"completion_tokens":31,"completion_time":0.112727273,"total_tokens":956,"total_time":0.148322849},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3pbs3jegss070z0nrystd9"}}

2025-02-27 14:33:34,775 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.8, 'extracted_params': {}}
2025-02-27 14:33:34,775 - ApplicationLogger - INFO - Handling as action
2025-02-27 14:33:34,776 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 14:33:34,777 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 14:33:34,777 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:33:36,348 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-537ab9e4-4fbe-4eab-b293-8f647b3de5af","object":"chat.completion","created":1740659615,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"To proceed with the server upgrade process, I need to start by searching for the server to get its details. Since I don't have any specific information about the server, I will ask the user for more details.\n\nHere is the JSON object with the required information:\n\n```json\n{\n  \"endpoint\": null,\n  \"parameters\": {},\n  \"response\": \"לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?\",\n  \"thinking_process\": \"I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.\",\n  \"action_steps\": [\n    \"Asking user for server details\",\n    \"Searching for server\",\n    \"Retrieving server details\",\n    \"Checking server status\",\n    \"Upgrading server\"\n  ],\n  \"requires_more_info\": true,\n  \"missing_params\": [\n    \"search_term\",\n    \"search_type\"\n  ]\n}\n```\n\nThis response asks the user to provide more information about the server, such as its name, serial number, or location, which is necessary to proceed with the upgrade process. Once the user provides this information, I can search for the server and retrieve its details to continue with the upgrade process."},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.002263842000000002,"prompt_tokens":904,"prompt_time":0.036639978,"completion_tokens":338,"completion_time":1.229090909,"total_tokens":1242,"total_time":1.2657308870000001},"system_fingerprint":"fp_5f849c5a0b","x_groq":{"id":"req_01jn3pbsg5fb6rhnkhb033k7t3"}}

2025-02-27 14:33:36,349 - ApplicationLogger - INFO - LLM response received: To proceed with the server upgrade process, I need to start by searching for the server to get its details. Since I don't have any specific information about the server, I will ask the user for more details.

Here is the JSON object with the required information:

```json
{
  "endpoint": null,
  "parameters": {},
  "response": "לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?",
  "thinking_process": "I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.",
  "action_steps": [
    "Asking user for server details",
    "Searching for server",
    "Retrieving server details",
    "Checking server status",
    "Upgrading server"
  ],
  "requires_more_info": true,
  "missing_params": [
    "search_term",
    "search_type"
  ]
}
```

This response asks the user to provide more information about the server, such as its name, serial number, or location, which is necessary to proceed with the upgrade process. Once the user provides this information, I can search for the server and retrieve its details to continue with the upgrade process.
2025-02-27 14:33:36,349 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'upgrade_server', 'response': 'לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?', 'thinking_process': "I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.", 'action_steps': ['Asking user for server details', 'Searching for server', 'Retrieving server details', 'Checking server status', 'Upgrading server'], 'requires_input': True, 'missing_params': ['search_term', 'search_type']}
2025-02-27 14:33:46,836 - ApplicationLogger - INFO - Received chat message request
2025-02-27 14:33:46,837 - ApplicationLogger - INFO - Processing message: שם השרת
2025-02-27 14:33:46,838 - ApplicationLogger - INFO - Chat history length: 5
2025-02-27 14:33:46,838 - ApplicationLogger - INFO - Handling message: שם השרת
2025-02-27 14:33:46,839 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking user for server details - Complete</strong>\n                    <p>I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?\nUser: שם השרת\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:33:47,375 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-0a4a90dd-2576-4817-ae48-465620b3218b","object":"chat.completion","created":1740659627,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"find_server\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {\n    \"search_type\": \"name\",\n    \"include_details\": false\n  }\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.003707930000000005,"prompt_tokens":1471,"prompt_time":0.054317857,"completion_tokens":48,"completion_time":0.174545455,"total_tokens":1519,"total_time":0.228863312},"system_fingerprint":"fp_2ca0059abb","x_groq":{"id":"req_01jn3pc5atfwf9f34kbw76vkjm"}}

2025-02-27 14:33:47,376 - ApplicationLogger - INFO - Detected intent: {'name': 'find_server', 'confidence': 0.8, 'extracted_params': {'search_type': 'name', 'include_details': False}}
2025-02-27 14:33:47,376 - ApplicationLogger - INFO - Handling as action
2025-02-27 14:33:47,377 - ApplicationLogger - INFO - Found action config for find_server: True
2025-02-27 14:33:47,377 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 14:33:47,378 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking user for server details - Complete</strong>\n                    <p>I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?\nUser: שם השרת\n\nAction Configuration:\n{\n  \"name\": \"find_server\",\n  \"description\": \"Find an asset in the DCIM system\",\n  \"actions\": [\n    {\n      \"name\": \"search_assets\",\n      \"path\": \"/api/dcim/search_assets\",\n      \"description\": \"Search for an asset by name/serial in DCIM\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Name/serial of the asset\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of asset to search for\"\n          },\n          \"include_details\": {\n            \"type\": \"boolean\",\n            \"description\": \"Whether to include additional details\"\n          }\n        },\n        \"required\": [\n          \"query\"\n        ]\n      }\n    },\n    {\n      \"name\": \"search_servers\",\n      \"path\": \"/api/dcim/search_servers\",\n      \"description\": \"Search for a server by name/serial in DCIM (legacy)\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Name/serial of the server\"\n          }\n        },\n        \"required\": [\n          \"query\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/dcim/search_assets\",\n  \"/api/dcim/search_servers\"\n]\n\nExtracted parameters from last message: {\"search_type\": \"name\", \"include_details\": false}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:33:49,271 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-889d6975-9e03-41c5-815f-61de73ef7da7","object":"chat.completion","created":1740659628,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"Here's the JSON object with the required information:\n\n```json\n{\n  \"endpoint\": \"/api/dcim/search_assets\",\n  \"parameters\": {\n    \"query\": \"שם השרת\",\n    \"search_type\": \"name\"\n  },\n  \"response\": \"אני עומד לחפש את השרת על פי שם השרת שסופק. אם השרת ימצא, אני אוכל להמשיך עם שדרוג השרת.\",\n  \"thinking_process\": \"I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_assets' endpoint to find the server.\",\n  \"action_steps\": [\n    \"Searching for server\",\n    \"Retrieving server details\",\n    \"Checking server status\",\n    \"Upgrading server\"\n  ],\n  \"requires_more_info\": false,\n  \"missing_params\": []\n}\n```\n\nThis response is based on the provided action configuration and conversation history. Since the user provided the server name, we can use the 'search_assets' endpoint to find the server. The 'search_type' parameter is set to 'name' based on the extracted parameters from the last message. The response explains what will be done next, and the thinking process provides a detailed explanation of the thought process. The action steps outline the next steps to complete the server upgrade process. Since we have all the necessary information, 'requires_more_info' is set to false, and 'missing_params' is an empty list."},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23230145999999996,"prompt_tokens":1111,"prompt_time":0.044069913,"completion_tokens":354,"completion_time":1.287272727,"total_tokens":1465,"total_time":1.33134264},"system_fingerprint":"fp_2ca0059abb","x_groq":{"id":"req_01jn3pc5twfnwamh4m0s5t831j"}}

2025-02-27 14:33:49,272 - ApplicationLogger - INFO - LLM response received: Here's the JSON object with the required information:

```json
{
  "endpoint": "/api/dcim/search_assets",
  "parameters": {
    "query": "שם השרת",
    "search_type": "name"
  },
  "response": "אני עומד לחפש את השרת על פי שם השרת שסופק. אם השרת ימצא, אני אוכל להמשיך עם שדרוג השרת.",
  "thinking_process": "I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_assets' endpoint to find the server.",
  "action_steps": [
    "Searching for server",
    "Retrieving server details",
    "Checking server status",
    "Upgrading server"
  ],
  "requires_more_info": false,
  "missing_params": []
}
```

This response is based on the provided action configuration and conversation history. Since the user provided the server name, we can use the 'search_assets' endpoint to find the server. The 'search_type' parameter is set to 'name' based on the extracted parameters from the last message. The response explains what will be done next, and the thinking process provides a detailed explanation of the thought process. The action steps outline the next steps to complete the server upgrade process. Since we have all the necessary information, 'requires_more_info' is set to false, and 'missing_params' is an empty list.
2025-02-27 14:33:49,272 - ApplicationLogger - INFO - Calling API endpoint: http://localhost:5000/api/dcim/search_assets with parameters: {'query': 'שם השרת', 'search_type': 'name'}
2025-02-27 14:33:49,537 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'find_server', 'response': 'אני עומד לחפש את השרת על פי שם השרת שסופק. אם השרת ימצא, אני אוכל להמשיך עם שדרוג השרת.', 'thinking_process': "I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_assets' endpoint to find the server.", 'action_steps': ['Searching for server', 'Retrieving server details', 'Checking server status', 'Upgrading server'], 'result': {'status': 'not_found', 'response': 'לא נמצאו תוצאות מתאימות'}}
2025-02-27 14:34:06,921 - ApplicationLogger - INFO - Received chat message request
2025-02-27 14:34:06,922 - ApplicationLogger - INFO - Processing message: חפש שרת server1
2025-02-27 14:34:06,922 - ApplicationLogger - INFO - Chat history length: 8
2025-02-27 14:34:06,922 - ApplicationLogger - INFO - Handling message: חפש שרת server1
2025-02-27 14:34:06,923 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking user for server details - Complete</strong>\n                    <p>I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?\nUser: שם השרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_assets' endpoint to find the server.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: אני עומד לחפש את השרת על פי שם השרת שסופק. אם השרת ימצא, אני אוכל להמשיך עם שדרוג השרת.\n\n{\n  \"response\": \"לא נמצאו תוצאות מתאימות\",\n  \"status\": \"not_found\"\n}\nUser: חפש שרת server1\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:07,495 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-6fe89995-17d3-4b60-90b5-4bc7e4cb9b88","object":"chat.completion","created":1740659647,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"find_server\",\n  \"confidence\": 0.9,\n  \"extracted_params\": {\n    \"search_type\": \"name\",\n    \"server_name\": \"server1\",\n    \"include_details\": false\n  }\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.0035386399999999957,"prompt_tokens":1991,"prompt_time":0.08441025,"completion_tokens":57,"completion_time":0.207272727,"total_tokens":2048,"total_time":0.291682977},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3pcrxcfwft7x221nzw3pmr"}}

2025-02-27 14:34:07,495 - ApplicationLogger - INFO - Detected intent: {'name': 'find_server', 'confidence': 0.9, 'extracted_params': {'search_type': 'name', 'server_name': 'server1', 'include_details': False}}
2025-02-27 14:34:07,496 - ApplicationLogger - INFO - Handling as action
2025-02-27 14:34:07,496 - ApplicationLogger - INFO - Found action config for find_server: True
2025-02-27 14:34:07,496 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 14:34:07,497 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking user for server details - Complete</strong>\n                    <p>I need to search for the server to get its details, but I don't have enough information. I should ask the user for more details such as server name, serial number, or location.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: לצורך שדרוג השרת, אני זקוק לפרטים נוספים. יכולת לספק לי את שם השרת, מספר סידורי או מיקום?\nUser: שם השרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Searching for server - Complete</strong>\n                    <p>I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_assets' endpoint to find the server.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving server details - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Checking server status - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Upgrading server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: אני עומד לחפש את השרת על פי שם השרת שסופק. אם השרת ימצא, אני אוכל להמשיך עם שדרוג השרת.\n\n{\n  \"response\": \"לא נמצאו תוצאות מתאימות\",\n  \"status\": \"not_found\"\n}\nUser: חפש שרת server1\n\nAction Configuration:\n{\n  \"name\": \"find_server\",\n  \"description\": \"Find an asset in the DCIM system\",\n  \"actions\": [\n    {\n      \"name\": \"search_assets\",\n      \"path\": \"/api/dcim/search_assets\",\n      \"description\": \"Search for an asset by name/serial in DCIM\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Name/serial of the asset\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of asset to search for\"\n          },\n          \"include_details\": {\n            \"type\": \"boolean\",\n            \"description\": \"Whether to include additional details\"\n          }\n        },\n        \"required\": [\n          \"query\"\n        ]\n      }\n    },\n    {\n      \"name\": \"search_servers\",\n      \"path\": \"/api/dcim/search_servers\",\n      \"description\": \"Search for a server by name/serial in DCIM (legacy)\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\",\n            \"description\": \"Name/serial of the server\"\n          }\n        },\n        \"required\": [\n          \"query\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/dcim/search_assets\",\n  \"/api/dcim/search_servers\"\n]\n\nExtracted parameters from last message: {\"search_type\": \"name\", \"server_name\": \"server1\", \"include_details\": false}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:08,692 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-beaad2b9-3291-4f10-9958-5baf45b5978e","object":"chat.completion","created":1740659648,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"endpoint\": \"/api/dcim/search_servers\",\n  \"parameters\": {\n    \"query\": \"server1\"\n  },\n  \"response\": \"אני עומד לחפש את השרת server1.\",\n  \"thinking_process\": \"I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_servers' endpoint to find the server.\",\n  \"action_steps\": [\n    \"Searching for server\",\n    \"Retrieving server details\",\n    \"Checking server status\",\n    \"Upgrading server\"\n  ],\n  \"requires_more_info\": false,\n  \"missing_params\": []\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23511715700000002,"prompt_tokens":1639,"prompt_time":0.072156134,"completion_tokens":150,"completion_time":0.545454545,"total_tokens":1789,"total_time":0.617610679},"system_fingerprint":"fp_76dc6cf67d","x_groq":{"id":"req_01jn3pcsfqfv6sx3qvgsdcqq6d"}}

2025-02-27 14:34:08,692 - ApplicationLogger - INFO - LLM response received: ```json
{
  "endpoint": "/api/dcim/search_servers",
  "parameters": {
    "query": "server1"
  },
  "response": "אני עומד לחפש את השרת server1.",
  "thinking_process": "I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_servers' endpoint to find the server.",
  "action_steps": [
    "Searching for server",
    "Retrieving server details",
    "Checking server status",
    "Upgrading server"
  ],
  "requires_more_info": false,
  "missing_params": []
}
```
2025-02-27 14:34:08,692 - ApplicationLogger - INFO - Calling API endpoint: http://localhost:5000/api/dcim/search_servers with parameters: {'query': 'server1'}
2025-02-27 14:34:08,952 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'find_server', 'response': 'אני עומד לחפש את השרת server1.', 'thinking_process': "I need to search for the server by its name to get its details. Since the user provided the server name, I can use the 'search_servers' endpoint to find the server.", 'action_steps': ['Searching for server', 'Retrieving server details', 'Checking server status', 'Upgrading server'], 'result': {'status': 'not_found', 'response': 'לא נמצאו תוצאות מתאימות'}}
2025-02-27 14:34:41,889 - ApplicationLogger - INFO - Received chat message request
2025-02-27 14:34:41,889 - ApplicationLogger - INFO - Processing message: אני רוצה לשדרג שרת
2025-02-27 14:34:41,889 - ApplicationLogger - INFO - Chat history length: 2
2025-02-27 14:34:41,890 - ApplicationLogger - INFO - Handling message: אני רוצה לשדרג שרת
2025-02-27 14:34:41,890 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:43,030 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-51a50a75-8c2b-4a9c-b18e-57e450ce9a48","object":"chat.completion","created":1740659683,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.8,\n  \"extracted_params\": {}\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23612278600000003,"prompt_tokens":925,"prompt_time":0.0372554,"completion_tokens":31,"completion_time":0.112727273,"total_tokens":956,"total_time":0.149982673},"system_fingerprint":"fp_e669a124b2","x_groq":{"id":"req_01jn3pdvg2f28bcwnmnyhyw33r"}}

2025-02-27 14:34:43,031 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.8, 'extracted_params': {}}
2025-02-27 14:34:43,031 - ApplicationLogger - INFO - Handling as action
2025-02-27 14:34:43,032 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 14:34:43,032 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 14:34:43,033 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:44,829 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-8e9bc26d-690d-4588-ae0c-0eebdbd4be94","object":"chat.completion","created":1740659683,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"To proceed with the server upgrade process, I need to follow a series of steps that involve searching for the server, retrieving available firmware versions, preparing the automation, and then starting it. However, the initial step requires identifying the server to be upgraded, which involves searching for it based on its name, ID, or location.\n\nGiven the action configuration and the conversation history, the first logical step is to search for the server. However, to do this effectively, I need more information about the server, such as its name or ID.\n\nHere's how I plan to proceed:\n\n```json\n{\n  \"endpoint\": \"/api/automations/search_server\",\n  \"parameters\": {\n    \"search_term\": \"\",\n    \"search_type\": \"\"\n  },\n  \"response\": \"To upgrade your server, I first need to find it. Could you please provide me with the server's name or ID?\",\n  \"thinking_process\": \"I need to search for the server to get its details, but first, I must know the server's identifier (name or ID) to use the 'search_server' endpoint effectively.\",\n  \"action_steps\": [\n    \"Asking for server identifier\",\n    \"Searching for server\",\n    \"Retrieving available firmware versions\",\n    \"Preparing automation for upgrade\",\n    \"Starting the upgrade process\"\n  ],\n  \"requires_more_info\": true,\n  \"missing_params\": [\n    \"search_term\",\n    \"search_type\"\n  ]\n}\n```\n\nThis approach ensures that I follow a logical sequence of actions as defined in the action configuration while also engaging with the user to gather necessary information to proceed with the server upgrade process."},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.23597689700000002,"prompt_tokens":904,"prompt_time":0.036490419,"completion_tokens":332,"completion_time":1.2072727269999999,"total_tokens":1236,"total_time":1.243763146},"system_fingerprint":"fp_76dc6cf67d","x_groq":{"id":"req_01jn3pdw65f29rqh9rz7yewpgx"}}

2025-02-27 14:34:44,829 - ApplicationLogger - INFO - LLM response received: To proceed with the server upgrade process, I need to follow a series of steps that involve searching for the server, retrieving available firmware versions, preparing the automation, and then starting it. However, the initial step requires identifying the server to be upgraded, which involves searching for it based on its name, ID, or location.

Given the action configuration and the conversation history, the first logical step is to search for the server. However, to do this effectively, I need more information about the server, such as its name or ID.

Here's how I plan to proceed:

```json
{
  "endpoint": "/api/automations/search_server",
  "parameters": {
    "search_term": "",
    "search_type": ""
  },
  "response": "To upgrade your server, I first need to find it. Could you please provide me with the server's name or ID?",
  "thinking_process": "I need to search for the server to get its details, but first, I must know the server's identifier (name or ID) to use the 'search_server' endpoint effectively.",
  "action_steps": [
    "Asking for server identifier",
    "Searching for server",
    "Retrieving available firmware versions",
    "Preparing automation for upgrade",
    "Starting the upgrade process"
  ],
  "requires_more_info": true,
  "missing_params": [
    "search_term",
    "search_type"
  ]
}
```

This approach ensures that I follow a logical sequence of actions as defined in the action configuration while also engaging with the user to gather necessary information to proceed with the server upgrade process.
2025-02-27 14:34:44,830 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'upgrade_server', 'response': "To upgrade your server, I first need to find it. Could you please provide me with the server's name or ID?", 'thinking_process': "I need to search for the server to get its details, but first, I must know the server's identifier (name or ID) to use the 'search_server' endpoint effectively.", 'action_steps': ['Asking for server identifier', 'Searching for server', 'Retrieving available firmware versions', 'Preparing automation for upgrade', 'Starting the upgrade process'], 'requires_input': True, 'missing_params': ['search_term', 'search_type']}
2025-02-27 14:34:55,066 - ApplicationLogger - INFO - Received chat message request
2025-02-27 14:34:55,067 - ApplicationLogger - INFO - Processing message: server1
2025-02-27 14:34:55,067 - ApplicationLogger - INFO - Chat history length: 5
2025-02-27 14:34:55,067 - ApplicationLogger - INFO - Handling message: server1
2025-02-27 14:34:55,068 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on the following conversation and intents, determine the most likely intent for the last user message.\n\nConversation history:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking for server identifier - Complete</strong>\n                    <p>I need to search for the server to get its details, but first, I must know the server's identifier (name or ID) to use the 'search_server' endpoint effectively.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving available firmware versions - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing automation for upgrade - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting the upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I first need to find it. Could you please provide me with the server's name or ID?\nUser: server1\n\nAvailable intents:\n{\n  \"intents\": [\n    {\n      \"name\": \"find_server\",\n      \"description\": \"חיפוש שרת במערכת DCIM לפי קריטריונים שונים\",\n      \"examples\": [\n        \"מצא שרת לפי שם\",\n        \"חפש שרת לפי מספר סידורי\",\n        \"איפה נמצא שרת מסוים\",\n        \"מצא לי שרת במיקום ספציפי\",\n        \"חפש שרת לפי סוג\",\n        \"הראה לי פרטים על שרת\",\n        \"תן לי מידע על שרת\"\n      ],\n      \"parameters\": {\n        \"search_type\": [\n          \"name\",\n          \"serial_number\",\n          \"location\",\n          \"type\"\n        ],\n        \"include_details\": \"boolean\"\n      }\n    },\n    {\n      \"name\": \"upgrade_server\",\n      \"description\": \"שדרוג שרת ספציפי - נדרש לציין את שם השרת\",\n      \"examples\": [\n        \"שדרג את השרת server1\",\n        \"עדכן את הגרסה של השרת TLV-SERVER\",\n        \"התקן עדכון חדש לשרת PROD-01\",\n        \"שדרג firmware לשרת DEV-02\",\n        \"עדכן את התוכנה של שרת TEST-03\",\n        \"שדרג את השרת בשם SERVER-04\"\n      ],\n      \"parameters\": {\n        \"server_name\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"שם השרת לשדרוג\",\n          \"extract_patterns\": [\n            \"את השרת ([\\\\w-]+)\",\n            \"של השרת ([\\\\w-]+)\",\n            \"לשרת ([\\\\w-]+)\",\n            \"שרת ([\\\\w-]+)\",\n            \"בשם ([\\\\w-]+)\"\n          ]\n        }\n      },\n      \"missing_param_message\": \"איזה שרת תרצה לשדרג? אנא ציין את שם השרת.\"\n    },\n    {\n      \"name\": \"chat\",\n      \"description\": \"שיחה כללית או שאלות שאין להן קשר לשרתים\",\n      \"examples\": [\n        \"מה שלומך?\",\n        \"תוכל לעזור לי?\",\n        \"יש לי שאלה\",\n        \"אני צריך עזרה\",\n        \"מה אתה יכול לעשות?\",\n        \"הסבר לי על המערכת\"\n      ]\n    }\n  ]\n}\n\nReturn only a JSON object with:\n1. name: The intent name if found or unknown\n2. confidence: Confidence score between 0-1\n3. extracted_params: Any relevant parameters extracted from the message (e.g. server name/id)"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:55,868 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-1c414c67-4f8c-487f-8185-8fc928e9f936","object":"chat.completion","created":1740659695,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"name\": \"upgrade_server\",\n  \"confidence\": 0.9,\n  \"extracted_params\": {\n    \"server_name\": \"server1\"\n  }\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.24903974899999998,"prompt_tokens":1401,"prompt_time":0.055125174,"completion_tokens":42,"completion_time":0.152727273,"total_tokens":1443,"total_time":0.207852447},"system_fingerprint":"fp_7b42aeb9fa","x_groq":{"id":"req_01jn3pe7ypf0bv9t8fw9n68ttk"}}

2025-02-27 14:34:55,868 - ApplicationLogger - INFO - Detected intent: {'name': 'upgrade_server', 'confidence': 0.9, 'extracted_params': {'server_name': 'server1'}}
2025-02-27 14:34:55,869 - ApplicationLogger - INFO - Handling as action
2025-02-27 14:34:55,869 - ApplicationLogger - INFO - Found action config for upgrade_server: True
2025-02-27 14:34:55,870 - ApplicationLogger - INFO - Sending prompt to LLM
2025-02-27 14:34:55,870 - ApplicationLogger - DEBUG - Sending request to Groq API: {
  "model": "llama-3.3-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "Based on this action configuration and conversation history, determine how to proceed:\n\nPrevious conversation:\nAssistant: שלום! במה אוכל לעזור לך?\nUser: אני רוצה לשדרג שרת\nAssistant: <div class=\"chat-message bot-message thinking-container\"><div class=\"thinking-header\">\n                    <span class=\"thinking-title\">חשיבה ועיבוד</span>\n                    <button class=\"thinking-toggle\">\n                        <svg class=\"expand-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                            <polyline points=\"6 9 12 15 18 9\"></polyline>\n                        </svg>\n                    </button>\n                </div><div class=\"thinking-content collapsed\"><div class=\"agent-timeline\">\n                    <div class=\"timeline-step complete\" id=\"step-0\">\n                        <div class=\"timeline-step-content\">\n                    <strong>Asking for server identifier - Complete</strong>\n                    <p>I need to search for the server to get its details, but first, I must know the server's identifier (name or ID) to use the 'search_server' endpoint effectively.</p>\n                </div>\n                    </div>\n                <div class=\"timeline-step complete\" id=\"step-1\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Searching for server - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-2\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Retrieving available firmware versions - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-3\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Preparing automation for upgrade - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div><div class=\"timeline-step complete\" id=\"step-4\">\n                        <div class=\"timeline-step-content\">\n                        <strong>Starting the upgrade process - Complete</strong>\n                        <p>This step has been completed successfully.</p>\n                    </div>\n                    </div></div></div></div>\nAssistant: To upgrade your server, I first need to find it. Could you please provide me with the server's name or ID?\nUser: server1\n\nAction Configuration:\n{\n  \"name\": \"upgrade_server\",\n  \"description\": \"Server upgrade process\",\n  \"actions\": [\n    {\n      \"name\": \"search_server\",\n      \"path\": \"/api/automations/search_server\",\n      \"description\": \"Search for a server by name/ID/location\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"search_term\": {\n            \"type\": \"string\",\n            \"description\": \"Server name or ID\"\n          },\n          \"search_type\": {\n            \"type\": \"string\",\n            \"description\": \"Search type (name/serial/location)\"\n          }\n        },\n        \"required\": [\n          \"search_term\",\n          \"search_type\"\n        ]\n      }\n    },\n    {\n      \"name\": \"get_firmware_versions\",\n      \"path\": \"/api/automations/pull-fw-list-package\",\n      \"description\": \"Retrieve a list of available firmware versions not need parameters\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {},\n        \"required\": []\n      }\n    },\n    {\n      \"name\": \"prepare_automation\",\n      \"path\": \"/api/automations/prepare-automation\",\n      \"description\": \"Prepare the upgrade process after runnning this action need to run start_automation with instance_id that returned from this action\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Type of automation (e.g. server_upgrade)\"\n          },\n          \"params\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Server name\"\n              },\n              \"serial_number\": {\n                \"type\": \"string\",\n                \"description\": \"Server serial number\"\n              },\n              \"intermediate_version\": {\n                \"type\": \"string\",\n                \"description\": \"Intermediate version\"\n              },\n              \"data\": {\n                \"type\": \"string\",\n                \"description\": \"Firmware version\"\n              }\n            },\n            \"required\": [\n              \"server_name\",\n              \"serial_number\",\n              \"firmware_version\"\n            ]\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"params\"\n        ]\n      }\n    },\n    {\n      \"name\": \"start_automation\",\n      \"path\": \"/api/automations/start-automation\",\n      \"description\": \"Start the upgrade process\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"automation_type\": {\n            \"type\": \"string\",\n            \"description\": \"Automation type\"\n          },\n          \"instance_id\": {\n            \"type\": \"string\",\n            \"description\": \"Automation ID\"\n          }\n        },\n        \"required\": [\n          \"automation_type\",\n          \"instance_id\"\n        ]\n      }\n    }\n  ]\n}\n\nAvailable API Endpoints:\n[\n  \"/api/automations/search_server\",\n  \"/api/automations/pull-fw-list-package\",\n  \"/api/automations/prepare-automation\",\n  \"/api/automations/start-automation\"\n]\n\nExtracted parameters from last message: {\"server_name\": \"server1\"}\n\nReturn a JSON object with:\n1. endpoint: The API endpoint path to call\n2. parameters: Parameters needed for the endpoint based on its required parameters\n3. response: Natural language response to show the user explaining what will be done\n4. thinking_process: A detailed explanation of your thought process (e.g., \"I need to search for server X to get its details\")\n5. action_steps: An array of steps you'll take to complete this action (e.g. [\"Searching for server\", \"Retrieving server details\", \"Checking server status\"])\n6. requires_more_info: true if more information is needed from the user\n7. missing_params: list of missing parameter names if requires_more_info is true"
    }
  ],
  "temperature": 0.7,
  "max_tokens": 1024,
  "top_p": 0.95,
  "stream": false
}
2025-02-27 14:34:56,823 - ApplicationLogger - DEBUG - Received response from Groq API: {"id":"chatcmpl-11100f54-3e5a-45c2-be41-a44c642d0386","object":"chat.completion","created":1740659696,"model":"llama-3.3-70b-versatile","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"endpoint\": \"/api/automations/search_server\",\n  \"parameters\": {\n    \"search_term\": \"server1\",\n    \"search_type\": \"name\"\n  },\n  \"response\": \"I will now search for the server 'server1' to get its details.\",\n  \"thinking_process\": \"I need to search for the server 'server1' to get its details. The 'search_server' endpoint requires a search term and a search type. Since the user provided the server name, I will use 'name' as the search type.\",\n  \"action_steps\": [\n    \"Searching for server\",\n    \"Retrieving available firmware versions\",\n    \"Preparing automation for upgrade\",\n    \"Starting the upgrade process\"\n  ],\n  \"requires_more_info\": false,\n  \"missing_params\": []\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"queue_time":0.004051929999999995,"prompt_tokens":1387,"prompt_time":0.051448986,"completion_tokens":170,"completion_time":0.618181818,"total_tokens":1557,"total_time":0.669630804},"system_fingerprint":"fp_76dc6cf67d","x_groq":{"id":"req_01jn3pe8q5egt9n563h58smq5t"}}

2025-02-27 14:34:56,824 - ApplicationLogger - INFO - LLM response received: ```json
{
  "endpoint": "/api/automations/search_server",
  "parameters": {
    "search_term": "server1",
    "search_type": "name"
  },
  "response": "I will now search for the server 'server1' to get its details.",
  "thinking_process": "I need to search for the server 'server1' to get its details. The 'search_server' endpoint requires a search term and a search type. Since the user provided the server name, I will use 'name' as the search type.",
  "action_steps": [
    "Searching for server",
    "Retrieving available firmware versions",
    "Preparing automation for upgrade",
    "Starting the upgrade process"
  ],
  "requires_more_info": false,
  "missing_params": []
}
```
2025-02-27 14:34:56,825 - ApplicationLogger - INFO - Calling API endpoint: http://localhost:5000/api/automations/search_server with parameters: {'search_term': 'server1', 'search_type': 'name'}
2025-02-27 14:34:57,094 - ApplicationLogger - INFO - Searching server with name=server1
2025-02-27 14:34:57,096 - ApplicationLogger - INFO - Chat manager result: {'type': 'action', 'action': 'upgrade_server', 'response': "I will now search for the server 'server1' to get its details.", 'thinking_process': "I need to search for the server 'server1' to get its details. The 'search_server' endpoint requires a search term and a search type. Since the user provided the server name, I will use 'name' as the search type.", 'action_steps': ['Searching for server', 'Retrieving available firmware versions', 'Preparing automation for upgrade', 'Starting the upgrade process'], 'result': {'data': {'dn': 'DN123456', 'domain': 'central.cisco.com', 'name': 'TLV', 'serial': 'SN123', 'usr_lbl': 'Server server1', 'version': '1.1.0'}, 'status': 'success'}}
2025-02-27 14:59:36,851 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 14:59:37,307 - ApplicationLogger - INFO - Getting firmware versions
2025-02-27 14:59:46,951 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 14:59:52,770 - ApplicationLogger - INFO - Searching server with name=server2
2025-02-27 14:59:56,960 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:06,970 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:16,988 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:27,001 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:37,012 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:47,037 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:50,923 - ApplicationLogger - INFO - Preparing automation of type server_upgrade with params: {'server_name': 'server2', 'serial_number': 'SN456', 'data': '4.2.2', 'force_direct_upgrade': True, 'intermediate_version': ''}
2025-02-27 15:00:50,924 - ApplicationLogger - INFO - Preparing server_upgrade automation with params: {'server_name': 'server2', 'serial_number': 'SN456', 'data': '4.2.2', 'force_direct_upgrade': True, 'intermediate_version': ''}
2025-02-27 15:00:50,925 - ApplicationLogger - INFO - force_direct_upgrade value received: True, type: <class 'bool'>
2025-02-27 15:00:50,936 - ApplicationLogger - INFO - Prepare automation result: {'status': 'success', 'data': {'instance_id': '44567558-59e5-41ad-a58d-dc56a05b92df', 'user_id': 'admin', 'server_name': 'server2', 'serial_number': 'SN456', 'tamplate': '', 'data': '4.2.2', 'status': 'pending', 'progress': 0, 'message': 'starting', 'automation_type': 'server_upgrade', 'isTracked': True, 'created_at': '2025-02-27T15:00:50.926150', 'force_direct_upgrade': True, 'intermediate_version': ''}, 'response': 'הכנתי את תהליך השדרוג עבור שרת server2'}
2025-02-27 15:00:50,961 - ApplicationLogger - INFO - Starting automation 44567558-59e5-41ad-a58d-dc56a05b92df of type server_upgrade
2025-02-27 15:00:50,963 - ApplicationLogger - INFO - Created automation instance: 44567558-59e5-41ad-a58d-dc56a05b92df of type server_upgrade
2025-02-27 15:00:57,057 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:00:58,287 - ApplicationLogger - ERROR - Error during firmware upgrade: <urlopen error [Errno 11001] getaddrinfo failed>
2025-02-27 15:00:58,293 - ApplicationLogger - INFO - Automation failed but handled gracefully: 44567558-59e5-41ad-a58d-dc56a05b92df
2025-02-27 15:00:58,293 - ApplicationLogger - INFO - Automation finally: 44567558-59e5-41ad-a58d-dc56a05b92df
2025-02-27 15:01:07,069 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:01:17,087 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:01:27,099 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:01:37,108 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:01:47,117 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:01:56,675 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:01:57,128 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:07,153 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:17,164 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:27,188 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:37,211 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:47,220 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:02:57,245 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:07,270 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:17,279 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:27,291 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:37,313 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:47,338 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:03:57,346 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:07,371 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:17,381 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:27,406 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:37,430 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:47,438 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:04:57,463 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:07,473 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:17,497 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:27,505 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:37,530 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:47,538 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:05:57,564 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:07,587 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:17,596 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:27,605 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:37,630 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:47,655 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:06:57,681 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:07,689 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:17,714 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:27,723 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:37,747 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:47,772 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:07:57,780 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:08:03,566 - ApplicationLogger - INFO - Aplication started!!
2025-02-27 15:08:03,569 - ApplicationLogger - INFO - Initializing room translations from ENV...
2025-02-27 15:08:03,569 - ApplicationLogger - INFO - Loaded 3 translations from ENV
2025-02-27 15:08:03,841 - ApplicationLogger - INFO - Registerd automation type: server_upgrade
2025-02-27 15:08:03,841 - ApplicationLogger - INFO - Automations thread finished
2025-02-27 15:08:03,923 - ApplicationLogger - INFO - Initializing ChatManager
2025-02-27 15:08:03,923 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\intents.json
2025-02-27 15:08:03,923 - ApplicationLogger - INFO - Successfully loaded intents.json
2025-02-27 15:08:03,924 - ApplicationLogger - INFO - Loading config file: C:\project_test\app\omegaApp\config\actions.json
2025-02-27 15:08:03,924 - ApplicationLogger - INFO - Successfully loaded actions.json
2025-02-27 15:08:03,925 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_assets for action find_server/search_assets
2025-02-27 15:08:03,925 - ApplicationLogger - INFO - Registered API endpoint /api/dcim/search_servers for action find_server/search_servers
2025-02-27 15:08:03,925 - ApplicationLogger - INFO - Registered API endpoint /api/automations/search_server for action upgrade_server/search_server
2025-02-27 15:08:03,926 - ApplicationLogger - INFO - Registered API endpoint /api/automations/pull-fw-list-package for action upgrade_server/get_firmware_versions
2025-02-27 15:08:03,926 - ApplicationLogger - INFO - Registered API endpoint /api/automations/prepare-automation for action upgrade_server/prepare_automation
2025-02-27 15:08:03,926 - ApplicationLogger - INFO - Registered API endpoint /api/automations/start-automation for action upgrade_server/start_automation
2025-02-27 15:08:08,168 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:08:19,180 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:08:30,167 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:08:41,076 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:08:51,092 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:01,169 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:12,168 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:23,166 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:34,174 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:45,183 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:09:56,176 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:10:07,180 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:10:18,175 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:10:29,180 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:10:40,177 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:10:51,168 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:02,181 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:13,168 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:24,183 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:35,170 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:46,185 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:11:57,176 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:07,187 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:08,171 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:12:11,609 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:15,357 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:12:20,556 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:12:22,176 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:27,353 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:30,233 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:12:38,176 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:12:49,172 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:00,181 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:11,185 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:21,201 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:23,806 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:13:28,369 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:13:29,930 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:13:31,041 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:13:31,211 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:32,342 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:13:42,182 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:13:53,169 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:04,184 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:15,179 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:26,172 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:37,180 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:48,045 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:14:58,179 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:15:09,182 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:15:20,174 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:15:28,476 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:15:33,104 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:15:34,804 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:15:39,172 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:15:50,183 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:01,181 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:12,173 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:23,183 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:27,054 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:30,071 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:16:33,244 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:16:37,146 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:43,888 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:16:49,939 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:16:54,031 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:17:02,704 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:17:05,940 - ApplicationLogger - ERROR - API error: 404 - 
2025-02-27 15:17:12,786 - ApplicationLogger - INFO - Getting automations for user: admin
2025-02-27 15:17:17,520 - ApplicationLogger - ERROR - Error in index: Invalid URL 'Noneauthentication': No scheme supplied. Perhaps you meant https://Noneauthentication?
2025-02-27 15:17:17,934 - ApplicationLogger - INFO - Fetching rooms from database...
2025-02-27 15:17:17,935 - ApplicationLogger - INFO - Found 4 rooms: ['ROOM1', 'ROOM2', 'ROOM3', 'ROOM4']
2025-02-27 15:17:18,059 - ApplicationLogger - INFO - Fetching rooms from database...
2025-02-27 15:17:18,061 - ApplicationLogger - INFO - Found 4 rooms: ['ROOM1', 'ROOM2', 'ROOM3', 'ROOM4']
2025-02-27 15:17:20,038 - ApplicationLogger - ERROR - JIRA project key not configured
2025-02-27 15:17:21,514 - ApplicationLogger - ERROR - Error refreshing DCIM authentication: Invalid URL 'Noneauthentication': No scheme supplied. Perhaps you meant https://Noneauthentication?
2025-02-27 15:17:21,981 - ApplicationLogger - INFO - File watcher setup successfully
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R01', 'Rack': '42', 'U': '12'}
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing power data: {'Max': 450, 'Avg': 380, 'Min': 320}
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 35, 'Avg': 28, 'Min': 22}
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.100
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R02', 'Rack': '43', 'U': '13'}
2025-02-27 15:17:21,982 - ApplicationLogger - DEBUG - Processing power data: {'Max': 455, 'Avg': 385, 'Min': 325}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 36, 'Avg': 29, 'Min': 23}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.101
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R03', 'Rack': '44', 'U': '14'}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing power data: {'Max': 460, 'Avg': 390, 'Min': 330}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 37, 'Avg': 30, 'Min': 24}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.102
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R04', 'Rack': '45', 'U': '15'}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing power data: {'Max': 465, 'Avg': 395, 'Min': 335}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 38, 'Avg': 31, 'Min': 25}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.103
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R05', 'Rack': '46', 'U': '16'}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing power data: {'Max': 470, 'Avg': 400, 'Min': 340}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 39, 'Avg': 32, 'Min': 26}
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,983 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.104
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R06', 'Rack': '47', 'U': '17'}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing power data: {'Max': 475, 'Avg': 405, 'Min': 345}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 40, 'Avg': 33, 'Min': 27}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.105
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R07', 'Rack': '48', 'U': '18'}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing power data: {'Max': 480, 'Avg': 410, 'Min': 350}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 41, 'Avg': 34, 'Min': 28}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.106
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R08', 'Rack': '49', 'U': '19'}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing power data: {'Max': 485, 'Avg': 415, 'Min': 355}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 42, 'Avg': 35, 'Min': 29}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.107
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R09', 'Rack': '50', 'U': '20'}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing power data: {'Max': 490, 'Avg': 420, 'Min': 360}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 43, 'Avg': 36, 'Min': 30}
2025-02-27 15:17:21,984 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.108
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-TLV-1', 'Room': 'Server Room A', 'Row': 'R010', 'Rack': '51', 'U': '21'}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing power data: {'Max': 495, 'Avg': 425, 'Min': 365}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 44, 'Avg': 37, 'Min': 31}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 1Gb 4-port 331i Adapter', 'class': 'Network Controller', 'Vendor': 'HP'}, {'Name': 'Smart Array P408i-a SR Gen10', 'class': 'Storage Controller', 'Vendor': 'HP'}]
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.0.109
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Successfully loaded data from C:\project_test\app\omegaApp\data\servers\servers.json
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R10', 'Rack': '10', 'U': '5'}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing power data: {'Max': 600, 'Avg': 500, 'Min': 400}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 40, 'Avg': 30, 'Min': 25}
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,985 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.200
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R11', 'Rack': '12', 'U': '6'}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing power data: {'Max': 610, 'Avg': 510, 'Min': 410}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 41, 'Avg': 31, 'Min': 26}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.201
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R12', 'Rack': '14', 'U': '7'}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing power data: {'Max': 620, 'Avg': 520, 'Min': 420}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 42, 'Avg': 32, 'Min': 27}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.202
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R13', 'Rack': '16', 'U': '8'}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing power data: {'Max': 630, 'Avg': 530, 'Min': 430}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 43, 'Avg': 33, 'Min': 28}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.203
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R14', 'Rack': '18', 'U': '9'}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing power data: {'Max': 640, 'Avg': 540, 'Min': 440}
2025-02-27 15:17:21,986 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 44, 'Avg': 34, 'Min': 29}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.204
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R15', 'Rack': '20', 'U': '10'}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing power data: {'Max': 650, 'Avg': 550, 'Min': 450}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 45, 'Avg': 35, 'Min': 30}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.205
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R16', 'Rack': '22', 'U': '11'}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing power data: {'Max': 660, 'Avg': 560, 'Min': 460}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 46, 'Avg': 36, 'Min': 31}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.206
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R17', 'Rack': '24', 'U': '12'}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing power data: {'Max': 670, 'Avg': 570, 'Min': 470}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 47, 'Avg': 37, 'Min': 32}
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.207
2025-02-27 15:17:21,987 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R18', 'Rack': '26', 'U': '13'}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing power data: {'Max': 680, 'Avg': 580, 'Min': 480}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 48, 'Avg': 38, 'Min': 33}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.208
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-2-TLV', 'Room': 'Lab Room C', 'Row': 'R19', 'Rack': '28', 'U': '14'}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing power data: {'Max': 690, 'Avg': 590, 'Min': 490}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 49, 'Avg': 39, 'Min': 34}
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Dell'}]
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.2.209
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Successfully loaded data from C:\project_test\app\omegaApp\data\servers\servers_2.json
2025-02-27 15:17:21,988 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R10', 'Rack': '10', 'U': '5'}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing power data: {'Max': 600, 'Avg': 500, 'Min': 400}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 40, 'Avg': 30, 'Min': 25}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.300
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R10', 'Rack': '10', 'U': '6'}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing power data: {'Max': 610, 'Avg': 510, 'Min': 410}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 41, 'Avg': 31, 'Min': 26}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.301
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R12', 'Rack': '14', 'U': '7'}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing power data: {'Max': 620, 'Avg': 520, 'Min': 420}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 42, 'Avg': 32, 'Min': 27}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.302
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R13', 'Rack': '16', 'U': '8'}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing power data: {'Max': 630, 'Avg': 530, 'Min': 430}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 43, 'Avg': 33, 'Min': 28}
2025-02-27 15:17:21,989 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.303
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R14', 'Rack': '18', 'U': '9'}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing power data: {'Max': 640, 'Avg': 540, 'Min': 440}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 44, 'Avg': 34, 'Min': 29}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.304
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R15', 'Rack': '20', 'U': '10'}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing power data: {'Max': 650, 'Avg': 550, 'Min': 450}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 45, 'Avg': 35, 'Min': 30}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.305
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R16', 'Rack': '22', 'U': '11'}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing power data: {'Max': 660, 'Avg': 560, 'Min': 460}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 46, 'Avg': 36, 'Min': 31}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.306
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R17', 'Rack': '24', 'U': '12'}
2025-02-27 15:17:21,990 - ApplicationLogger - DEBUG - Processing power data: {'Max': 670, 'Avg': 570, 'Min': 470}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 47, 'Avg': 37, 'Min': 32}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.307
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R18', 'Rack': '26', 'U': '13'}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing power data: {'Max': 680, 'Avg': 580, 'Min': 480}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 48, 'Avg': 38, 'Min': 33}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.308
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing location data: {'DataCenter': 'DC-3-TLV', 'Room': 'Lab Room D', 'Row': 'R19', 'Rack': '28', 'U': '14'}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing power data: {'Max': 690, 'Avg': 590, 'Min': 490}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing temperature data: {'Max': 49, 'Avg': 39, 'Min': 34}
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Processing internal devices data: [{'Name': 'Ethernet 10Gb X710 Adapter', 'class': 'Network Controller', 'Vendor': 'Intel'}, {'Name': 'Controller X', 'class': 'Storage Controller', 'Vendor': 'Cisco'}]
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Loaded and normalized data for server 10.0.3.309
2025-02-27 15:17:21,991 - ApplicationLogger - DEBUG - Successfully loaded data from C:\project_test\app\omegaApp\data\servers\servers_3.json
2025-02-27 15:17:21,991 - ApplicationLogger - INFO - ServerDataManager initialized successfully
2025-02-27 15:17:24,003 - ApplicationLogger - INFO - Getting automations for user: admin
